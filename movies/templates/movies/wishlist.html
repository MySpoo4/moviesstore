{% extends 'base.html' %} {% block content %}
<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-md-8">
      <h2 class="mb-4 text-center">Your Wishlist</h2>
      <hr />
      {% if wishlist_items %}
      <ul class="list-group">
        {% for item in wishlist_items %}
        <li
          class="list-group-item d-flex justify-content-between align-items-center"
        >
          <div>
            <strong>{{ item.movie.name }}</strong>
            <span class="text-muted">({{ item.movie.price }}$)</span>
          </div>
          <div>
            <a
              href="{% url 'movies.show' id=item.movie.id %}"
              class="btn btn-outline-info btn-sm me-2"
              >View</a
            >
            <form
              method="post"
              action="{% url 'movies.remove_from_wishlist' id=item.movie.id %}"
              style="display: inline"
            >
              {% csrf_token %}
              <button type="submit" class="btn btn-danger btn-sm">
                Remove
              </button>
            </form>
          </div>
        </li>
        {% endfor %}
      </ul>
      {% else %}
      <div class="alert alert-info text-center mt-4">
        No movies in your wishlist yet.<br />
        <a href="{% url 'movies.index' %}" class="btn btn-primary mt-2"
          >Browse Movies</a
        >
      </div>
      {% endif %}
    </div>
  </div>
</div>
{% endblock %}
